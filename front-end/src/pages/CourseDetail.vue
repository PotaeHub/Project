<script setup>
import MainLayout from "@/layouts/MainLayout.vue"
import { ref, computed } from "vue"
import Tabs from "../components/Tabs.vue"

const showFull = ref(false)

// ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (‡∏õ‡∏Å‡∏ï‡∏¥‡∏Ñ‡∏ß‡∏£‡∏°‡∏≤‡∏à‡∏≤‡∏Å backend)
const description = `
‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏à‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡πÄ‡∏ó‡∏£‡∏î‡∏´‡∏∏‡πâ‡∏ô ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏≠‡∏£‡πå‡∏™‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà
‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Å‡∏•‡∏≤‡∏á ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ï‡∏•‡∏≤‡∏î‡∏´‡∏∏‡πâ‡∏ô ‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏£‡∏≤‡∏ü
‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏≠‡∏≠‡∏Å ‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡∏Å‡∏•‡∏¢‡∏∏‡∏ó‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Å‡∏≥‡πÑ‡∏£
‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡∏ï‡∏•‡∏≤‡∏î‡∏´‡∏∏‡πâ‡∏ô‡πÑ‡∏ó‡∏¢‡πÅ‡∏•‡∏∞‡∏ï‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®
`

const shortTextLength = 180

const displayText = computed(() => {
    if (showFull.value) return description
    return description.slice(0, shortTextLength) + "..."
})


const activeTab = ref("detail")
</script>

<template>
    <MainLayout>

        <!-- HERO -->
        <section class="bg-gradient-to-r from-gray-500 to-green-700 text-white py-16 overflow-auto">
            <div class="max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-10 px-6">

                <!-- Image -->
                <div>
                    <img src="../assets/bg_login.jpg" class="rounded-2xl shadow-xl" />
                </div>

                <!-- Info -->
                <div class="flex flex-col justify-center gap-4">
                    <p class="text-sm opacity-80">‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à (2 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)</p>
                    <h1 class="text-3xl font-bold">‡∏à‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡πÄ‡∏ó‡∏£‡∏î‡∏´‡∏∏‡πâ‡∏ô Combo</h1>

                    <div class="flex items-center gap-4">
                        <span class="text-3xl font-bold">4,990 ‡∏ö‡∏≤‡∏ó</span>
                        <span class="line-through opacity-70">6,990 ‡∏ö‡∏≤‡∏ó</span>
                    </div>

                    <button
                        class="mt-4 bg-white text-green-700 font-semibold py-3 rounded-xl shadow hover:scale-[1.02] transition">
                        ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à
                    </button>
                </div>
            </div>
        </section>

        <!-- TABS -->
        <div class="bg-white border-b">
            <div class="max-w-6xl mx-auto flex gap-8 px-6 sticky top-16 ">
                <Tabs />
            </div>
        </div>

        <!-- CONTENT -->
        <section class="max-w-6xl mx-auto px-6 py-10 grid grid-cols-1 lg:grid-cols-3 gap-10">

            <div class="space-y-4 text-gray-700 leading-relaxed">

                <h2 class="text-xl font-bold border-b-1 pb-6 border-gray-400">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</h2>

                <p class="whitespace-pre-line">
                    {{ displayText }}
                </p>

                <!-- ‡∏õ‡∏∏‡πà‡∏° toggle -->
                <button @click="showFull = !showFull"
                    class="text-green-600 font-semibold hover:underline flex items-center gap-1">
                    {{ showFull ? "‡πÅ‡∏™‡∏î‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏•‡∏á" : "‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°" }}
                    <span v-if="!showFull">‚ñº</span>
                    <span v-else>‚ñ≤</span>
                </button>

            </div>


            <!-- RIGHT INFO CARD -->
            <div class="bg-blue-50 rounded-2xl p-6 space-y-4 shadow">
                <div class="flex items-center gap-3">
                    üì¶ <span>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î <b>2 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</b></span>
                </div>
                <div class="flex items-center gap-3">
                    ‚ñ∂Ô∏è <span>52 ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ (6 ‡∏ä‡∏°. 25 ‡∏ô‡∏≤‡∏ó‡∏µ)</span>
                </div>
                <div class="flex items-center gap-3">
                    ‚ôæÔ∏è <span>‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÑ‡∏î‡πâ‡∏ï‡∏•‡∏≠‡∏î‡∏ä‡∏µ‡∏û</span>
                </div>
                <div class="flex items-center gap-3">
                    ‚¨áÔ∏è <span>‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡πâ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î</span>
                </div>
            </div>

        </section>

    </MainLayout>
</template>
